<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>3.2.4.2 Missing VLANs</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_3.2.4.2_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>VLAN Implementations</h1>
        <h2>Troubleshoot VLANs and Trunks</h2>
      </div>
      <div id="content">
          <p>If there is still no connection between devices in a VLAN, but IP addressing issues have been ruled out, refer to the flowchart in Figure 1 to troubleshoot:</p>
          <p></p>
          <p>
            <b>Step 1. </b>Use the<span class="cmd"><b> show vlan </b></span>command to check whether the port belongs to the expected VLAN. If the port is assigned to the wrong VLAN, use the<span class="cmd"><b> switchport access vlan </b></span>command to correct the VLAN membership. Use the<span class="cmd"><b> show mac address-table </b></span>command to check which addresses were learned on a particular port of the switch and to which VLAN that port is assigned.</p>
          <p></p>
          <p>
            <b>Step 2. </b>If the VLAN to which the port is assigned is deleted, the port becomes inactive. Use the<span class="cmd"><b> show vlan </b></span>or<span class="cmd"><b> show interfaces switchport </b></span>command.</p>
          <p></p>
          <p>To display the MAC address table, use the<span class="cmd"><b> show mac-address-table </b></span>command. The example in Figure 2 shows MAC addresses that were learned on the F0/1 interface. It can be seen that MAC address<span class="cmd"> 000c.296a.a21c </span>was learned on interface F0/1 in VLAN 10. If this number is not the expected VLAN number, change the port VLAN membership using the<span class="cmd"><b> switchport access vlan </b></span>command.</p>
          <p></p>
          <p>Each port in a switch belongs to a VLAN. If the VLAN to which the port belongs is deleted, the port becomes inactive. All ports belonging to the VLAN that was deleted are unable to communicate with the rest of the network. Use the<span class="cmd"><b> show interface f0/1 switchport </b></span>command to check whether the port is inactive. If the port is inactive, it is not functional until the missing VLAN is created using the<span class="cmd"><b> vlan </b></span><span class="cmd"><i>vlan_id</i></span> command.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
