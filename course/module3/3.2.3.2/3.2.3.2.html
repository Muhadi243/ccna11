<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>3.2.3.2 Negotiated Interface Modes</title>
    <!--  -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_3.2.3.2_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>VLAN Implementations</h1>
        <h2>Dynamic Trunking Protocol</h2>
      </div>
      <div id="content">
          <p>Ethernet interfaces on Catalyst 2960 and Catalyst 3560 Series switches support different trunking modes with the help of DTP:</p>
          <p></p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>switchport mode access </b>
                </span>- Puts the interface (access port) into permanent nontrunking mode and negotiates to convert the link into a nontrunk link. The interface becomes a nontrunk interface, regardless of whether the neighboring interface is a trunk interface.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>switchport mode dynamic auto</b>
                </span> - Makes the interface able to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to trunk or desirable mode. The default switchport mode for all Ethernet interfaces is <span class="cmd"><b>dynamic auto</b></span>.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>switchport mode dynamic desirable</b>
                </span> - Makes the interface actively attempt to convert the link to a trunk link. The interface becomes a trunk interface if the neighboring interface is set to trunk, desirable, or auto mode. This is the default switchport mode on older switches, such as the Catalyst 2950 and 3550 Series switches.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>switchport mode trunk</b>
                </span> - Puts the interface into permanent trunking mode and negotiates to convert the neighboring link into a trunk link. The interface becomes a trunk interface even if the neighboring interface is not a trunk interface.</li>
            </ul>
          </p>
          <p>
            <ul>
              <li>
                <span class="cmd">
                  <b>switchport nonegotiate</b>
                </span> - Prevents the interface from generating DTP frames. You can use this command only when the interface switchport mode is<span class="cmd"><b> access </b></span>or<span class="cmd"><b> trunk</b></span>. You must manually configure the neighboring interface as a trunk interface to establish a trunk link.</li>
            </ul>
          </p>
          <p></p>
          <p>Figure 1 illustrates the results of the DTP configuration options on opposite ends of a trunk link connected to Catalyst 2960 switch ports.</p>
          <p></p>
          <p>Configure trunk links statically whenever possible. The default DTP mode is dependent on the Cisco IOS Software version and on the platform. To determine the current DTP mode, issue the<span class="cmd"><b> show dtp interface </b></span>command as shown in Figure 2.</p>
          <p></p>
          <p>Use the Syntax Checker in Figure 3 to determine the DTP mode on interface F0/1.</p>
          <p></p>
          <p>
            <b>Note</b>: A general best practice is to set the interface to<span class="cmd"><b> trunk </b></span>and<span class="cmd"><b> nonegotiate </b></span>when a trunk link is required. On links where trunking is not intended, DTP should be turned off.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
