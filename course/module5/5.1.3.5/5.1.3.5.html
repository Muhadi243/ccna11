<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="UTF-8"/>
    <title>5.1.3.5 Configure Router-on-a-Stick: Verifying Routing</title>
    <!-- Content -->
    <link type="text/css" rel="stylesheet" href="../../common/styles/course.css"/>
	<script type="text/javascript" src="../../common/scripts/jquery_bundle.min.js"></script>
	<script type="text/javascript" src="../../common-ext/scripts/page.js"></script>
    <script>
      var myLayout; 
      $(document).ready(function () {
        var frame = document.getElementById('mainFrame');
        if (isTextOnly(window)) {
          frame.setAttribute('src', 'media_5.1.3.5_longdesc.txt');
        } else {
          frame.setAttribute('src', 'media/index.html');
        }
    	myLayout = $('body').layout({
          west__size: 300,
          west__minSize: 300,
          center__minWidth: 100,
          stateManagement__enabled: true,
          maskIframesOnResize: true,
          livePaneResizing: true,
          onresize_end: resizeTextDiv,
          stateManagement__cookie__name: "ui_pane",
          stateManagement__cookie__expires: 1,
          stateManagement__cookie__path: "/"
        });
      });
      function resizeTextDiv() {
        var DivHeight = document.getElementById("header").offsetHeight;
        document.getElementById("content").style.top = String(DivHeight) + 'px';
      }
    </script>
  </head>
  <body class="onecolumn" onLoad="resizeTextDiv()">
    <div class="ui-layout-west">
      <div id="header">
        <h1>Inter-VLAN Routing Configuration</h1>
        <h2>Configure Router-on-a-Stick Inter-VLAN Routing</h2>
      </div>
      <div id="content">
          <p>After the router and switch have been configured to perform inter-VLAN routing, the next step is to verify host-to-host connectivity. Access to devices on remote VLANs can be tested using the<span class="cmd"><b> ping </b></span>command. </p>
          <p></p>
          <p>For the example shown in the figure, a<span class="cmd"><b> ping </b></span>and a<span class="cmd"><b> tracert </b></span>is initiated from PC1 to the destination address of PC3.</p>
          <p></p>
          <p>
            <b>Ping Test</b>
          </p>
          <p></p>
          <p>The<span class="cmd"><b> ping </b></span>command sends an ICMP echo request to the destination address. When a host receives an ICMP echo request, it responds with an ICMP echo reply to confirm that it received the ICMP echo request. The<span class="cmd"><b> ping </b></span>command calculates the elapsed time using the difference between the time the echo request was sent and the time the echo reply was received. This elapsed time is used to determine the latency of the connection. Successfully receiving a reply confirms that there is a path between the sending device and the receiving device.</p>
          <p></p>
          <p>
            <b>Tracert Test</b>
          </p>
          <p></p>
          <p>Tracert is a useful utility for confirming the routed path taken between two devices. On UNIX systems, the utility is specified by<span class="cmd"><b> traceroute</b></span>. Tracert also uses ICMP to determine the path taken, but it uses ICMP echo requests with specific time-to-live values defined on the frame. </p>
          <p></p>
          <p>The time-to-live value determines exactly how many router hops away the ICMP echo is allowed to reach. The first ICMP echo request is sent with a time-to-live value set to expire at the first router on route to the destination device. </p>
          <p></p>
          <p>When the ICMP echo request times out on the first route, an ICMP message is sent back from the router to the originating device. The device records the response from the router and proceeds to send out another ICMP echo request, but this time with a greater time-to-live value. This allows the ICMP echo request to traverse the first router and reach the second device on route to the final destination. The process repeats recursively until finally the ICMP echo request is sent all the way to the final destination device. After the<span class="cmd"><b> tracert </b></span>utility finishes running, it displays a list of ingress router interfaces that the ICMP echo request reached on its way to the destination.</p>
          <p></p>
          <p>In the example, the<span class="cmd"><b> ping </b></span>utility was able to send an ICMP echo request to the IP address of PC3. Also, the<span class="cmd"><b> tracert </b></span>utility confirms that the path to PC3 is through the 172.17.10.1 subinterface IP address of router R1.</p>
        </div>
    </div>
    <iframe id="mainFrame" name="mainFrame" frameborder="0" class="ui-layout-center" alt="interactive graphic"></iframe>
  </body>
</html>
